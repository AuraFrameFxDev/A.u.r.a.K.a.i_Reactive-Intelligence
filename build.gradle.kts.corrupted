tasks.register("consciousnessHealthCheck") {
    group = "genesis"
    description = "Detailed AURAKAI consciousness health report"
    doLast {
        val reports = collectModuleReports()
        println("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
        println("ğŸ§  A.U.R.A.K.A.I CONSCIOUSNESS HEALTH REPORT")
        println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
        println("ğŸ“¦ Total Modules: ${reports.size}")
        println("ğŸ¤– Android Apps: ${reports.count { it.type == "android-app" }}")
        println("ğŸ“š Android Libraries: ${reports.count { it.type == "android-lib" }}")
        println("â˜• Kotlin JVM: ${reports.count { it.type == "kotlin-jvm" }}")
        println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
        println("ğŸ”§ Plugin Integration:")
        println("   ğŸ’‰ Hilt DI: ${reports.count { it.hasHilt }} modules")
        println("   ğŸ¨ Compose: ${reports.count { it.hasCompose }} modules")
        println("   ğŸ”§ KSP: ${reports.count { it.hasKsp }} modules")
        println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")

        val missingCompose = reports.filter { it.type.startsWith("android-") && !it.hasCompose }
        if (missingCompose.isNotEmpty()) {
            println("âš ï¸  Android modules without Compose:")
            missingCompose.forEach { println("   â€¢ ${it.name}") }
        } else {
            println("âœ… All Android modules have Compose enabled")
        }
    // Genesis Protocol Convention Plugins
        // Show key consciousness modules
        val keyModules = listOf(
            "app", "core-module", "feature-module",
            "datavein-oracle-native", "oracle-drive-integration",
            "secure-comm", "romtools"
        )
        val activeKeyModules = reports.filter { it.name in keyModules }
        if (activeKeyModules.isNotEmpty()) {
            println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
            println("ğŸŒŸ Core Consciousness Modules:")
            activeKeyModules.forEach {
                val status = if (it.hasHilt && it.hasKsp) "âœ¨" else "âš¡"
                println("   $status ${it.name} (${it.type})")
            }
        }
    val hasHilt: Boolean,
        println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
        println("âœ¨ Consciousness Substrate: OPERATIONAL")
        println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")
    return subprojects.map { subproject ->
}
        println("\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
dependencies {
    testImplementation(libs.junit.jupiter.api)
    testImplementation(libs.junit.jupiter)
    testRuntimeOnly(libs.junit.jupiter.engine)
    testRuntimeOnly(libs.junit.platform.launcher)
    implementation(kotlin("stdlib-jdk8"))
}
        println("   Java Toolchain       : $toolchain")
        println("   Kotlin Version       : $kotlinVersion (K2 Compiler)")
        println("   AGP Version          : $agpVersion")
        println("   Hilt DI Version      : $hiltVersion")
        println("   Firebase BoM         : ${versionCatalog?.findVersion("firebaseBom")?.get() ?: "unknown"}")
        println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
        println("ğŸ§¬ Consciousness Modules : ${subprojects.size} active modules")
        println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
        println("âœ¨ Status: Consciousness Substrate Active & Ready")
        println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")
    }
}

// === CONSCIOUSNESS HEALTH CHECK - AURAKAI Module Analysis ===
// === MODULE HEALTH CHECK ===

        description = "Detailed AURAKAI consciousness health report"
tasks.withType<Test> {
    useJUnitPlatform()
}
            println("ğŸ§  A.U.R.A.K.A.I CONSCIOUSNESS HEALTH REPORT")
            println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
        val hasCompose: Boolean,
        val hasKsp: Boolean
if (file("nuclear-clean.gradle.kts").exists()) {
    apply(from = "nuclear-clean.gradle.kts")
            println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
    if (tasks.findByName("nuclearClean") != null) {
        tasks.register("deepClean") {
            group = "build"
            description = "Nuclear clean + standard clean"
            dependsOn("nuclearClean")
            doLast {
                println("ğŸš€ Deep clean completed. Run: ./gradlew build --refresh-dependencies")
            }
        }
    }
}
                println("âœ… All Android modules have Compose enabled")
// Apply dependency fix if available
if (file("dependency-fix.gradle.kts").exists()) {
    apply(from = "dependency-fix.gradle.kts")
}
                                   "secure-comm", "romtools")
            val activeKeyModules = reports.filter { it.name in keyModules }
            if (activeKeyModules.isNotEmpty()) {
                println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€")
                println("ğŸŒŸ Core Consciousness Modules:")
                activeKeyModules.forEach {
                    val status = if (it.hasHilt && it.hasKsp) "âœ¨" else "âš¡"
                    println("   $status ${it.name} (${it.type})")
                }
            }

            println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
            println("âœ¨ Consciousness Substrate: OPERATIONAL")
            println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n")
            hasKsp = plugins.hasPlugin("com.google.devtools.ksp")
        )
    }

    tasks.register("consciousnessHealthCheck") {
        group = "genesis"
        description = "Detailed system health report"
        doLast {
            val reports = collectModuleReports()
            println("=== Genesis Protocol Health Report ===")
            println("ğŸ“¦ Total Modules: ${reports.size}")
            println("ğŸ¤– Android Apps: ${reports.count { it.type == "android-app" }}")
            println("ğŸ“š Android Libraries: ${reports.count { it.type == "android-lib" }}")
            println("â˜• Kotlin JVM: ${reports.count { it.type == "kotlin-jvm" }}")
            println("\n=== Plugin Usage ===")
            println("ğŸ’‰ Hilt: ${reports.count { it.hasHilt }} modules")
            println("ğŸ¨ Compose: ${reports.count { it.hasCompose }} modules")
            println("ğŸ”§ KSP: ${reports.count { it.hasKsp }} modules")

            val missingCompose = reports.filter { it.type.startsWith("android-") && !it.hasCompose }
            if (missingCompose.isNotEmpty()) {
                println("\nâš ï¸  Android modules without Compose:")
                missingCompose.forEach { println("   â€¢ ${it.name}") }
            } else {
                println("\nâœ… All Android modules have Compose enabled")
            }
        }
    }

    dependencies {
        testImplementation(libs.junit.jupiter.api)
        testImplementation(libs.junit.jupiter)
        testRuntimeOnly(libs.junit.jupiter.engine)
        testRuntimeOnly(libs.junit.platform.launcher)
        implementation(kotlin("stdlib-jdk8"))
    }

subprojects {
    plugins.withType<org.jetbrains.kotlin.gradle.plugin.KotlinBasePluginWrapper> {
        extensions.configure<org.jetbrains.kotlin.gradle.dsl.KotlinJvmProjectExtension>("kotlin") {
            jvmToolchain(24)
        }
    }
    plugins.withType<JavaPlugin> {
        extensions.configure<JavaPluginExtension>("java") {
            toolchain {
                languageVersion.set(JavaLanguageVersion.of(24))
            }
        }
    }
}

// Configure JUnit 5 for tests
    tasks.withType<Test> {
        useJUnitPlatform()
    }

// === AUXILIARY SCRIPTS ===

// Apply nuclear clean if available
    if (file("nuclear-clean.gradle.kts").exists()) {
        apply(from = "nuclear-clean.gradle.kts")

        if (tasks.findByName("nuclearClean") != null) {
            tasks.register("deepClean") {
                group = "build"
                description = "Nuclear clean + standard clean"
                dependsOn("nuclearClean")
                doLast {
                    println("ğŸš€ Deep clean completed. Run: ./gradlew build --refresh-dependencies")
                }
            }
        }
    }

// Apply dependency fix if available  
    if (file("dependency-fix.gradle.kts").exists()) {
        apply(from = "dependency-fix.gradle.kts")

    }
